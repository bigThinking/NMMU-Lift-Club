--
-- PostgreSQL database dump
--

-- Dumped from database version 9.3.3
-- Dumped by pg_dump version 9.3.3
-- Started on 2015-10-17 17:50:53

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 195 (class 3079 OID 11750)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 3371 (class 0 OID 0)
-- Dependencies: 195
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- TOC entry 196 (class 3079 OID 65590)
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- TOC entry 3372 (class 0 OID 0)
-- Dependencies: 196
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


--
-- TOC entry 197 (class 3079 OID 24596)
-- Name: postgis; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS postgis WITH SCHEMA public;


--
-- TOC entry 3373 (class 0 OID 0)
-- Dependencies: 197
-- Name: EXTENSION postgis; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION postgis IS 'PostGIS geometry, geography, and raster spatial types and functions';


--
-- TOC entry 198 (class 3079 OID 24585)
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- TOC entry 3374 (class 0 OID 0)
-- Dependencies: 198
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


SET search_path = public, pg_catalog;

SET default_with_oids = false;

--
-- TOC entry 186 (class 1259 OID 32839)
-- Name: campus; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE campus (
    campus_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    campus_name text NOT NULL,
    campus_gps_point point NOT NULL
);


--
-- TOC entry 194 (class 1259 OID 33001)
-- Name: car; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE car (
    car_vrn character varying(10) NOT NULL,
    car_manufacturer character varying(12) NOT NULL,
    car_model character varying(10) NOT NULL,
    car_has_boot boolean DEFAULT true NOT NULL,
    car_max_nr_seats smallint NOT NULL,
    car_colour character varying(12) NOT NULL,
    car_year smallint,
    car_pic_id text
);


--
-- TOC entry 185 (class 1259 OID 32815)
-- Name: driver; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE driver (
    driver_user_id character varying(10) NOT NULL,
    driver_license_no character(15) NOT NULL,
    driver_system_rating_sum smallint DEFAULT 100 NOT NULL,
    driver_nr_ratings_recieved integer DEFAULT 0 NOT NULL,
    driver_datetime_created timestamp without time zone DEFAULT now() NOT NULL,
    driver_current_car_vrn character varying(10) NOT NULL,
    driver_nr_rides smallint DEFAULT 0 NOT NULL,
    driver_user_ratings_sum integer DEFAULT 3 NOT NULL,
    driver_nr_system_ratings integer DEFAULT 1 NOT NULL,
    driver_no_routes_recorded integer DEFAULT 0 NOT NULL
);


--
-- TOC entry 189 (class 1259 OID 32876)
-- Name: drivercar; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE drivercar (
    dc_driver_user_id character varying(10) NOT NULL,
    dc_datetime_added time without time zone DEFAULT now() NOT NULL,
    dc_car_vrn character varying(10) NOT NULL
);


--
-- TOC entry 187 (class 1259 OID 32848)
-- Name: entry_point; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE entry_point (
    entry_point_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    entry_point_campus_id uuid,
    entry_point_name text NOT NULL,
    entry_point_gps_point point NOT NULL
);


--
-- TOC entry 188 (class 1259 OID 32862)
-- Name: position; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE "position" (
    pos_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    pos_user_id character varying(10) NOT NULL,
    pos_name text NOT NULL,
    pos_gps_point point NOT NULL,
    pos_datetime_created timestamp without time zone DEFAULT now() NOT NULL
);


--
-- TOC entry 191 (class 1259 OID 32914)
-- Name: ride; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE ride (
    ride_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    ride_driver_user_id character varying(10) NOT NULL,
    ride_datetime_end timestamp without time zone,
    ride_datetime_begin timestamp without time zone,
    ride_is_to_campus boolean NOT NULL,
    ride_commment text,
    ride_price real DEFAULT 0 NOT NULL,
    ride_route_id uuid NOT NULL,
    ride_system_rating smallint DEFAULT 100 NOT NULL,
    ride_nr_passengers smallint DEFAULT 0 NOT NULL,
    ride_only_gender "char",
    ride_car_vrn character varying(10) NOT NULL
);


--
-- TOC entry 192 (class 1259 OID 32947)
-- Name: ride_passenger; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE ride_passenger (
    rp_ride_id uuid NOT NULL,
    rp_user_id character varying(10) NOT NULL,
    rp_datetime_picked_up timestamp without time zone NOT NULL,
    rp_point_picked_up point NOT NULL,
    rp_datetime_dropped_off timestamp without time zone NOT NULL,
    rp_point_dropped_off point NOT NULL,
    rp_successful boolean DEFAULT true NOT NULL
);


--
-- TOC entry 190 (class 1259 OID 32891)
-- Name: route; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE route (
    route_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    route_driver_user_id character varying(10) NOT NULL,
    route_name text NOT NULL,
    route_gps_points path NOT NULL,
    route_datetime_created timestamp without time zone DEFAULT now() NOT NULL,
    route_no_times_used integer DEFAULT 0 NOT NULL,
    route_price real DEFAULT 0 NOT NULL,
    route_is_usable boolean DEFAULT true NOT NULL,
    route_datetime_disabled timestamp without time zone,
    route_campus_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    route_entrypoint uuid NOT NULL,
    route_geohashes text DEFAULT '[]'::text NOT NULL
);


--
-- TOC entry 170 (class 1259 OID 24577)
-- Name: temppoints; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE temppoints (
    id uuid NOT NULL,
    name text,
    point point,
    "time" timestamp without time zone
);


--
-- TOC entry 184 (class 1259 OID 32788)
-- Name: user; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE "user" (
    user_id character varying(10) NOT NULL,
    user_password text NOT NULL,
    user_initials character varying(6),
    user_firstname character varying(20),
    user_middlenames character varying(30),
    user_surname character varying(20),
    user_studying text,
    user_email text,
    user_cell character(10),
    user_is_driver boolean DEFAULT false NOT NULL,
    user_nr_rides_taken integer DEFAULT 0 NOT NULL,
    user_nr_points_saved integer DEFAULT 0 NOT NULL,
    user_nr_ratings_recieved integer DEFAULT 1 NOT NULL,
    user_ratings_sum integer DEFAULT 3 NOT NULL,
    user_datetime_created timestamp without time zone DEFAULT now() NOT NULL,
    user_gender character(1) DEFAULT 'm'::bpchar NOT NULL,
    user_pic_id text
);


--
-- TOC entry 193 (class 1259 OID 32952)
-- Name: userrating; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE userrating (
    ur_id uuid DEFAULT uuid_generate_v4() NOT NULL,
    ur_driver_user_id character varying(10) NOT NULL,
    ur_passenger_id character varying(10) NOT NULL,
    ur_ride_id uuid NOT NULL,
    ur_rating smallint NOT NULL,
    ur_comment text,
    ur_datetime_given timestamp without time zone DEFAULT now() NOT NULL,
    ur_rating_type "char" NOT NULL
);


--
-- TOC entry 3375 (class 0 OID 0)
-- Dependencies: 193
-- Name: COLUMN userrating.ur_rating_type; Type: COMMENT; Schema: public; Owner: -
--

COMMENT ON COLUMN userrating.ur_rating_type IS 'p for passenger rating
d for driver rating';


--
-- TOC entry 3356 (class 0 OID 32839)
-- Dependencies: 186
-- Data for Name: campus; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO campus (campus_id, campus_name, campus_gps_point) VALUES ('c3e4b318-bde1-4cfc-96f7-a66d45e183ff', 'South Campus', '(-34.009047000000002,25.669777)');
INSERT INTO campus (campus_id, campus_name, campus_gps_point) VALUES ('2bc5bc86-1f03-4325-9ab3-0fe244eea0b4', 'North Campus', '(-34.001522000000001,25.672035000000001)');


--
-- TOC entry 3364 (class 0 OID 33001)
-- Dependencies: 194
-- Data for Name: car; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO car (car_vrn, car_manufacturer, car_model, car_has_boot, car_max_nr_seats, car_colour, car_year, car_pic_id) VALUES ('dcvcv', 'Audi', 'tt', true, 4, 'white', 2000, 'dcvcv');


--
-- TOC entry 3355 (class 0 OID 32815)
-- Dependencies: 185
-- Data for Name: driver; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO driver (driver_user_id, driver_license_no, driver_system_rating_sum, driver_nr_ratings_recieved, driver_datetime_created, driver_current_car_vrn, driver_nr_rides, driver_user_ratings_sum, driver_nr_system_ratings, driver_no_routes_recorded) VALUES ('john', 'dfdggrg        ', 100, 1, '2015-10-01 14:34:33.14', 'dcvcv', 0, 1, 1, 1);


--
-- TOC entry 3359 (class 0 OID 32876)
-- Dependencies: 189
-- Data for Name: drivercar; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO drivercar (dc_driver_user_id, dc_datetime_added, dc_car_vrn) VALUES ('john', '17:52:09.326', 'dcvcv');


--
-- TOC entry 3357 (class 0 OID 32848)
-- Dependencies: 187
-- Data for Name: entry_point; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO entry_point (entry_point_id, entry_point_campus_id, entry_point_name, entry_point_gps_point) VALUES ('70d1165a-367d-4b3e-b6b9-1f7f8d4761d3', 'c3e4b318-bde1-4cfc-96f7-a66d45e183ff', 'South- University way', '(-34.005299999999998,25.669758999999999)');
INSERT INTO entry_point (entry_point_id, entry_point_campus_id, entry_point_name, entry_point_gps_point) VALUES ('99b53103-ed51-4e49-b497-c82d230f7e5e', 'c3e4b318-bde1-4cfc-96f7-a66d45e183ff', 'South - Marine drive', '(-34.011668999999998,25.677751000000001)');


--
-- TOC entry 3358 (class 0 OID 32862)
-- Dependencies: 188
-- Data for Name: position; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('3cdfed8d-9729-45bf-9cd0-ffafcb2e7c65', '210036575', 'lab', '(-34.00892632,25.66948927)', '2015-09-30 13:12:44.236');
INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('e30a60a6-f30b-44ca-a5ed-0a33856b0389', '210036575', 'lab1', '(-34.008925140000002,25.669494929999999)', '2015-09-30 13:20:38.833');
INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('c5088550-3701-422b-93f5-55dd9432fc06', '210036575', 'lab3', '(-34.008808180000003,25.669504839999998)', '2015-09-30 13:59:00.911');
INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('b4772594-a68e-447a-90df-153f8e2a489f', '210036575', 'lab5', '(-34.008760860000002,25.669543699999998)', '2015-09-30 14:05:07.752');
INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('296c6768-6c4c-410c-8aac-9ab20bdb5774', '210036575', 'lab8', '(0,0)', '2015-09-30 14:12:32.435');
INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('ff5aa9ed-82d3-48d9-9db4-4863f1e3ddb6', 'john', 'driverpostest', '(-34.008857650000003,25.669432499999999)', '2015-10-03 14:09:28.642');
INSERT INTO "position" (pos_id, pos_user_id, pos_name, pos_gps_point, pos_datetime_created) VALUES ('8f1c35b2-a71c-4d83-9654-5815ddf73a71', 'john', 'driverpostest2', '(-34.008861979999999,25.669433560000002)', '2015-10-03 14:19:36.263');


--
-- TOC entry 3361 (class 0 OID 32914)
-- Dependencies: 191
-- Data for Name: ride; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 3362 (class 0 OID 32947)
-- Dependencies: 192
-- Data for Name: ride_passenger; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 3360 (class 0 OID 32891)
-- Dependencies: 190
-- Data for Name: route; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO route (route_id, route_driver_user_id, route_name, route_gps_points, route_datetime_created, route_no_times_used, route_price, route_is_usable, route_datetime_disabled, route_campus_id, route_entrypoint, route_geohashes) VALUES ('2122055b-802c-46b8-b495-f3e6390a4533', 'john', 'test', '[(-33.949541000000004,25.581295000000001),(-33.949525000000001,25.581264000000001),(-33.949545999999998,25.581157999999999),(-33.949584999999999,25.581075999999999),(-33.949604999999998,25.581071000000001),(-33.949683,25.581033999999999),(-33.9497,25.581026000000001),(-33.949767999999999,25.580988999999999),(-33.949790999999998,25.580978000000002),(-33.949849999999998,25.580953000000001),(-33.949880999999998,25.580936000000001),(-33.949939999999998,25.580912999999999),(-33.949978999999999,25.580893),(-33.950054999999999,25.580850999999999),(-33.950099999999999,25.580832999999998),(-33.950144999999999,25.580808999999999),(-33.950195000000001,25.580781000000002),(-33.950237999999999,25.580755),(-33.950282999999999,25.580731),(-33.950325999999997,25.58071),(-33.950380000000003,25.580686),(-33.95044,25.580665),(-33.950488999999997,25.580638),(-33.950541000000001,25.580608000000002),(-33.950588000000003,25.580580999999999),(-33.950631000000001,25.580552999999998),(-33.950673000000002,25.580535999999999),(-33.950750999999997,25.580542999999999),(-33.950769999999999,25.580531000000001),(-33.950842999999999,25.580486000000001),(-33.950865,25.580484999999999),(-33.950938999999998,25.580438000000001),(-33.950958,25.58043),(-33.951000000000001,25.580416),(-33.951070999999999,25.580352999999999),(-33.951141,25.580333),(-33.951203999999997,25.580310000000001),(-33.951256000000001,25.580297999999999),(-33.951307999999997,25.580252999999999),(-33.951363000000001,25.580200999999999),(-33.951413000000002,25.58015),(-33.951445999999997,25.580107999999999),(-33.951478999999999,25.580065999999999),(-33.951540000000001,25.579996000000001),(-33.951552999999997,25.579965000000001),(-33.951576000000003,25.579872999999999),(-33.951585999999999,25.579863),(-33.951608,25.579802999999998),(-33.951625,25.579761000000001),(-33.951635000000003,25.579666),(-33.951645999999997,25.579602999999999),(-33.951656,25.579523999999999),(-33.951658999999999,25.579439000000001),(-33.951658000000002,25.579343000000001),(-33.951635000000003,25.579248),(-33.951613000000002,25.579131),(-33.951585999999999,25.579013),(-33.951552999999997,25.578907999999998),(-33.951518999999998,25.578809),(-33.951484999999998,25.578731000000001),(-33.951462999999997,25.578651000000001),(-33.951445999999997,25.578595),(-33.951433999999999,25.578536),(-33.951433000000002,25.578478),(-33.951397999999998,25.578545999999999),(-33.951363000000001,25.578548000000001),(-33.951301000000001,25.578491),(-33.951270999999998,25.578455000000002),(-33.951258000000003,25.578399999999998),(-33.951261000000002,25.578327999999999),(-33.951270000000001,25.578268999999999),(-33.951290999999998,25.578206000000002),(-33.951309999999999,25.578109999999999),(-33.951324999999997,25.578057999999999),(-33.951357999999999,25.577957999999999),(-33.951393000000003,25.577893),(-33.951416000000002,25.577832999999998),(-33.951456,25.577770000000001),(-33.951548000000003,25.577656000000001),(-33.951734999999999,25.577704000000001),(-33.951796000000002,25.577676),(-33.951878000000001,25.577660999999999),(-33.951962999999999,25.577663000000001),(-33.951971,25.577667999999999),(-33.952041000000001,25.577732999999998),(-33.952091000000003,25.577725999999998),(-33.952162999999999,25.577767999999999),(-33.952190999999999,25.577753000000001),(-33.952255999999998,25.577738),(-33.952292999999997,25.577741),(-33.952365999999998,25.577783),(-33.952390999999999,25.577822999999999),(-33.952418000000002,25.577876),(-33.952443000000002,25.577939000000001),(-33.952458,25.578029000000001),(-33.952485000000003,25.578125),(-33.952503999999998,25.578227999999999),(-33.952534999999997,25.578330999999999),(-33.952565999999997,25.578444999999999),(-33.952601000000001,25.57856),(-33.952630999999997,25.578672999999998),(-33.952663000000001,25.578793000000001),(-33.952688999999999,25.578904999999999),(-33.952725999999998,25.579018000000001),(-33.952759999999998,25.579129999999999),(-33.952800000000003,25.579239000000001),(-33.952840000000002,25.579349000000001),(-33.952872999999997,25.579454999999999),(-33.952908999999998,25.579557999999999),(-33.952945,25.579657999999998),(-33.952975000000002,25.579747999999999),(-33.953001,25.579823999999999),(-33.953028000000003,25.579891),(-33.953054999999999,25.579951000000001),(-33.953082999999999,25.580036),(-33.953080999999997,25.580043),(-33.953118000000003,25.580051000000001),(-33.953130999999999,25.580071),(-33.953150999999998,25.580141000000001),(-33.953166000000003,25.580193000000001),(-33.953184999999998,25.580249999999999),(-33.953212999999998,25.580313),(-33.953240999999998,25.580383000000001),(-33.953268000000001,25.580465),(-33.953294999999997,25.580553999999999),(-33.953330000000001,25.580646000000002),(-33.953366000000003,25.580745),(-33.953400000000002,25.580848),(-33.953434999999999,25.580959),(-33.953479999999999,25.581088000000001),(-33.953525999999997,25.581220999999999),(-33.953575000000001,25.58136),(-33.953620999999998,25.581500999999999),(-33.953668,25.581645000000002),(-33.953716,25.581785),(-33.953766000000002,25.581941),(-33.95382,25.582100000000001),(-33.953873000000002,25.582257999999999),(-33.953927999999998,25.582415999999998),(-33.953980999999999,25.58258),(-33.954028000000001,25.582763),(-33.954079999999998,25.582943),(-33.954130999999997,25.583114999999999),(-33.954180999999998,25.583290000000002),(-33.954231,25.583465),(-33.954282999999997,25.583645000000001),(-33.954338,25.583835000000001),(-33.954397999999998,25.584026000000001),(-33.954456,25.584211),(-33.954520000000002,25.584401),(-33.954580999999997,25.584586000000002),(-33.954641000000002,25.584773999999999),(-33.954704999999997,25.584965),(-33.954765999999999,25.585155),(-33.954827999999999,25.585345),(-33.954895,25.585529999999999),(-33.954954999999998,25.585711),(-33.955022999999997,25.585892999999999),(-33.955083000000002,25.586075999999998),(-33.95514,25.586255999999999),(-33.955198000000003,25.586438000000001),(-33.955258999999998,25.586622999999999),(-33.955314999999999,25.586804000000001),(-33.955357999999997,25.586974999999999),(-33.955385999999997,25.587116000000002),(-33.955427999999998,25.587268000000002),(-33.955469999999998,25.587406000000001),(-33.955506,25.587530999999998),(-33.955550000000002,25.587653),(-33.955581000000002,25.587759999999999),(-33.955613999999997,25.58785),(-33.955635000000001,25.587928000000002),(-33.955660999999999,25.588000000000001),(-33.955675999999997,25.588077999999999),(-33.955697999999998,25.588156000000001),(-33.955694999999999,25.588193),(-33.955716000000002,25.588277999999999),(-33.955733000000002,25.588331),(-33.955756000000001,25.588401000000001),(-33.955786000000003,25.588479),(-33.955824999999997,25.588564999999999),(-33.955865000000003,25.588650999999999),(-33.955897999999998,25.588753000000001),(-33.955933000000002,25.588857999999998),(-33.955970000000001,25.588963),(-33.956004999999998,25.589072999999999),(-33.956040000000002,25.589188),(-33.956080999999998,25.589310000000001),(-33.956122999999998,25.589428000000002),(-33.956167999999998,25.589555000000001),(-33.956215,25.589690999999998),(-33.956271000000001,25.589835999999998),(-33.956330000000001,25.589981000000002),(-33.956386000000002,25.590128),(-33.956443,25.590274000000001),(-33.956502999999998,25.590427999999999),(-33.956563000000003,25.590579999999999),(-33.956625000000003,25.590733),(-33.956685999999998,25.590889000000001),(-33.956743000000003,25.591045999999999),(-33.956795,25.591197999999999),(-33.956850000000003,25.591353000000002),(-33.956902999999997,25.591512999999999),(-33.956961,25.591674999999999),(-33.957016000000003,25.591835),(-33.957065999999998,25.591989999999999),(-33.957118000000001,25.592143),(-33.957165000000003,25.592293000000002),(-33.957216000000003,25.592438000000001),(-33.957261000000003,25.592563999999999),(-33.95731,25.592690000000001),(-33.957355,25.592803),(-33.957380999999998,25.59291),(-33.957396000000003,25.593024),(-33.957396000000003,25.593129000000001),(-33.957383,25.593245),(-33.957355999999997,25.593368000000002),(-33.957318999999998,25.593502999999998),(-33.957261000000003,25.593651000000001),(-33.957225999999999,25.593810000000001),(-33.957188000000002,25.593961),(-33.957149999999999,25.594107999999999),(-33.957104999999999,25.594238000000001),(-33.957048,25.594353000000002),(-33.956983000000001,25.594466000000001),(-33.956910999999998,25.594569),(-33.956825000000002,25.594667999999999),(-33.956730999999998,25.594764999999999),(-33.956631000000002,25.594853000000001),(-33.956513999999999,25.594935),(-33.956417999999999,25.595009999999998),(-33.956330999999999,25.595078000000001),(-33.956252999999997,25.595141000000002),(-33.956170999999998,25.595217999999999),(-33.956093000000003,25.595295),(-33.956004999999998,25.595344000000001),(-33.955983000000003,25.595445999999999),(-33.956009999999999,25.595472999999998),(-33.956105000000001,25.595475),(-33.956135000000003,25.595493000000001),(-33.956195000000001,25.595509),(-33.956274999999998,25.595542999999999),(-33.956310000000002,25.595599),(-33.956370999999997,25.595685),(-33.956429999999997,25.595758),(-33.956491,25.595845000000001),(-33.956544999999998,25.595931),(-33.956600999999999,25.596031),(-33.956651000000001,25.596126000000002),(-33.956705999999997,25.596222999999998),(-33.956755000000001,25.596311),(-33.956797999999999,25.596388999999999),(-33.956834999999998,25.596457999999998),(-33.956862999999998,25.596502999999998),(-33.956898000000002,25.596579999999999),(-33.956930999999997,25.596588000000001),(-33.956977999999999,25.59667),(-33.957011000000001,25.596719),(-33.957045999999998,25.596775999999998),(-33.957082999999997,25.596843),(-33.957118000000001,25.596916),(-33.957158,25.596995),(-33.957199000000003,25.597069999999999),(-33.957245999999998,25.597151),(-33.957282999999997,25.597228000000001),(-33.957343000000002,25.597296),(-33.957416000000002,25.597363000000001),(-33.957498000000001,25.597435000000001),(-33.957577999999998,25.597498000000002),(-33.957661000000002,25.597555),(-33.957748000000002,25.59761),(-33.957850999999998,25.597664999999999),(-33.957945000000002,25.597731),(-33.958036,25.597801),(-33.958129999999997,25.597863),(-33.958221000000002,25.597926000000001),(-33.958303000000001,25.597992999999999),(-33.958385999999997,25.598063),(-33.958472999999998,25.598147999999998),(-33.958540999999997,25.598240000000001),(-33.958590999999998,25.598345999999999),(-33.958629999999999,25.598454),(-33.958675999999997,25.598558000000001),(-33.958728999999998,25.598666000000001),(-33.958779999999997,25.598770999999999),(-33.958835999999998,25.598873000000001),(-33.958894999999998,25.598974999999999),(-33.958953999999999,25.599077999999999),(-33.959018,25.599177999999998),(-33.95908,25.599278000000002),(-33.959145999999997,25.599378000000002),(-33.959206000000002,25.599474000000001),(-33.959263,25.599572999999999),(-33.959313999999999,25.599664000000001),(-33.959356,25.599758000000001),(-33.959403000000002,25.599858000000001),(-33.959448000000002,25.599962999999999),(-33.959488999999998,25.600071),(-33.959522999999997,25.600180000000002),(-33.959553,25.600276000000001),(-33.959569999999999,25.600352999999998),(-33.959592999999998,25.60042),(-33.959634999999999,25.600484999999999),(-33.959620000000001,25.600577999999999),(-33.959632999999997,25.600603),(-33.959713999999998,25.600641),(-33.959755000000001,25.600629999999999),(-33.959828000000002,25.600586),(-33.959848000000001,25.600560000000002),(-33.959905999999997,25.600483000000001),(-33.959915000000002,25.600474999999999),(-33.959961,25.600401000000002),(-33.959972999999998,25.600386),(-33.960028000000001,25.600331000000001),(-33.960073999999999,25.600306),(-33.960144999999997,25.600279),(-33.960189999999997,25.600277999999999),(-33.960239999999999,25.600286000000001),(-33.960286000000004,25.600314999999998),(-33.960329999999999,25.600368),(-33.960355999999997,25.600438),(-33.960391000000001,25.600522999999999),(-33.960425000000001,25.600612999999999),(-33.960458000000003,25.600715999999998),(-33.960487999999998,25.600822999999998),(-33.960512999999999,25.600930999999999),(-33.960527999999996,25.601039),(-33.960548000000003,25.601143),(-33.960563,25.601253),(-33.960580999999998,25.601362999999999),(-33.960605999999999,25.601468000000001),(-33.960630000000002,25.601562999999999),(-33.960638000000003,25.601635999999999),(-33.960656,25.601707999999999),(-33.960670999999998,25.601769999999998),(-33.960675000000002,25.601851),(-33.960673,25.601845999999998),(-33.960692999999999,25.601935000000001),(-33.960707999999997,25.601991000000002),(-33.960723000000002,25.602059000000001),(-33.960737999999999,25.602131),(-33.960752999999997,25.602205000000001),(-33.960771000000001,25.602284000000001),(-33.960791,25.602376),(-33.960822999999998,25.602474000000001),(-33.960850999999998,25.602575999999999),(-33.960872999999999,25.602692999999999),(-33.960912999999998,25.602803000000002),(-33.960949999999997,25.602913000000001),(-33.960985999999998,25.603027999999998),(-33.961021000000002,25.603152999999999),(-33.961061000000001,25.603280999999999),(-33.961103999999999,25.603414999999998),(-33.961145000000002,25.603545),(-33.961190999999999,25.603686),(-33.961236,25.603823999999999),(-33.961280000000002,25.603966),(-33.961326,25.604106000000002),(-33.961368,25.604254000000001),(-33.961405999999997,25.604407999999999),(-33.961441000000001,25.604568),(-33.961480000000002,25.604734000000001),(-33.961512999999997,25.604901000000002),(-33.961548000000001,25.605066000000001),(-33.961570999999999,25.605229999999999),(-33.961602999999997,25.605409999999999),(-33.961635999999999,25.605588000000001),(-33.961671000000003,25.605768000000001),(-33.961706,25.605944000000001),(-33.961742999999998,25.606113000000001),(-33.961773000000001,25.606278),(-33.961801000000001,25.606441),(-33.961835999999998,25.606605999999999),(-33.961869999999998,25.606773),(-33.961900999999997,25.606943000000001),(-33.961933000000002,25.607108),(-33.961961000000002,25.607272999999999),(-33.961995999999999,25.607443),(-33.962031000000003,25.607607999999999),(-33.962049999999998,25.607735999999999),(-33.962066,25.607889),(-33.962077999999998,25.608048),(-33.962085000000002,25.608205999999999),(-33.962069999999997,25.608360999999999),(-33.962040999999999,25.608521),(-33.962012999999999,25.608682999999999),(-33.961990999999998,25.608829),(-33.961969000000003,25.608964),(-33.961948,25.609081),(-33.961938000000004,25.609189000000001),(-33.961924000000003,25.609276000000001),(-33.961917999999997,25.609354),(-33.961911000000001,25.609445999999998),(-33.961928,25.609483000000001),(-33.961950999999999,25.609525999999999),(-33.961987999999998,25.609579),(-33.962040999999999,25.609628000000001),(-33.962100999999997,25.609677999999999),(-33.962164999999999,25.609728),(-33.962223999999999,25.609776),(-33.962280999999997,25.609819999999999),(-33.962333000000001,25.609860000000001),(-33.962373999999997,25.609902999999999),(-33.962408000000003,25.609936000000001),(-33.962474999999998,25.609983),(-33.962470000000003,25.60998),(-33.962448999999999,25.609877999999998),(-33.962451000000001,25.609850999999999),(-33.96246,25.609750999999999),(-33.962460999999998,25.609741),(-33.962471000000001,25.609777999999999),(-33.962490000000003,25.609798000000001),(-33.962505999999998,25.60981),(-33.962533000000001,25.609829999999999),(-33.962570999999997,25.609857999999999),(-33.962623000000001,25.609888000000002),(-33.962674999999997,25.609923999999999),(-33.962724999999999,25.609960999999998),(-33.962778999999998,25.610002999999999),(-33.962837999999998,25.610053000000001),(-33.962907999999999,25.610099999999999),(-33.962986000000001,25.610157999999998),(-33.963073000000001,25.610216000000001),(-33.963158,25.610271000000001),(-33.963248,25.610326000000001),(-33.963335000000001,25.610381),(-33.963419999999999,25.610455000000002),(-33.963506000000002,25.610530000000001),(-33.963597999999998,25.610605),(-33.96369,25.610681),(-33.963760999999998,25.610735999999999),(-33.963800999999997,25.610779000000001),(-33.963867999999998,25.610824000000001),(-33.963892999999999,25.610848000000001),(-33.963873,25.610862999999998),(-33.963870999999997,25.610863999999999),(-33.963827999999999,25.610885),(-33.963805999999998,25.610904999999999),(-33.963768999999999,25.610887999999999),(-33.963821000000003,25.610904999999999),(-33.96387,25.610928000000001),(-33.963898999999998,25.610938000000001),(-33.963963,25.610959999999999),(-33.963999999999999,25.610990000000001),(-33.964072999999999,25.611044),(-33.964109999999998,25.611073000000001),(-33.964174999999997,25.611121000000001),(-33.964196000000001,25.611145),(-33.964233,25.611077999999999),(-33.964243000000003,25.611046000000002),(-33.964315999999997,25.611048),(-33.964348999999999,25.611076000000001),(-33.964404999999999,25.611105999999999),(-33.964455999999998,25.611139999999999),(-33.964511000000002,25.611186),(-33.964570000000002,25.611229999999999),(-33.964624999999998,25.611270999999999),(-33.964680999999999,25.611318000000001),(-33.964740999999997,25.61138),(-33.964790000000001,25.611436000000001),(-33.964835999999998,25.611488000000001),(-33.964883999999998,25.611537999999999),(-33.964933000000002,25.611578000000002),(-33.964970999999998,25.611623000000002),(-33.965024999999997,25.611673),(-33.965060000000001,25.611725),(-33.965085000000002,25.611806000000001),(-33.965097999999998,25.611865999999999),(-33.965102999999999,25.611929),(-33.965085999999999,25.611999000000001),(-33.965074999999999,25.612069999999999),(-33.965068000000002,25.61214),(-33.965046000000001,25.612226),(-33.965015000000001,25.612313),(-33.964981000000002,25.612396),(-33.964950999999999,25.612485),(-33.964919999999999,25.612570999999999),(-33.964888999999999,25.612676),(-33.964860999999999,25.612793),(-33.964832999999999,25.612918000000001),(-33.964804999999998,25.613046000000001),(-33.964787999999999,25.61317),(-33.964761000000003,25.613295000000001),(-33.964731,25.613409000000001),(-33.964717999999998,25.613505),(-33.964692999999997,25.613575999999998),(-33.964671000000003,25.613648000000001),(-33.964652999999998,25.613721000000002),(-33.964635999999999,25.613793999999999),(-33.964615000000002,25.613869999999999),(-33.964590000000001,25.613959999999999),(-33.964562999999998,25.614059999999998),(-33.96454,25.614167999999999),(-33.964508000000002,25.614280000000001),(-33.964475999999998,25.614394000000001),(-33.964447999999997,25.614519999999999),(-33.964426000000003,25.614640000000001),(-33.964415000000002,25.614750999999998),(-33.964393999999999,25.614856),(-33.964374999999997,25.614951000000001),(-33.964356000000002,25.615033),(-33.964336000000003,25.615105),(-33.964315999999997,25.615171),(-33.964300999999999,25.615241000000001),(-33.964284999999997,25.615310999999998),(-33.964263000000003,25.615383000000001),(-33.964244999999998,25.615449999999999),(-33.964218000000002,25.615514000000001),(-33.964196000000001,25.615580999999999),(-33.964176000000002,25.615675),(-33.964165999999999,25.61572),(-33.964134999999999,25.615805999999999),(-33.964115999999997,25.615841),(-33.964108000000003,25.615915999999999),(-33.964105000000004,25.615957999999999),(-33.964089999999999,25.616022999999998),(-33.964078999999998,25.616076),(-33.964075999999999,25.616135),(-33.96407,25.616204),(-33.964047999999998,25.616285999999999),(-33.964021000000002,25.616378000000001),(-33.963994999999997,25.616472999999999),(-33.963963,25.616562999999999),(-33.963934999999999,25.61666),(-33.963911000000003,25.616758000000001),(-33.963875999999999,25.616859000000002),(-33.963844999999999,25.616962999999998),(-33.963816000000001,25.617065),(-33.963785999999999,25.617176000000001),(-33.963763,25.617290000000001),(-33.963737999999999,25.617402999999999),(-33.963711000000004,25.617515999999998),(-33.963678999999999,25.617629999999998),(-33.963650999999999,25.617740999999999),(-33.963621000000003,25.617843000000001),(-33.963594999999998,25.617946),(-33.963568000000002,25.618044999999999),(-33.963543999999999,25.618127999999999),(-33.963523000000002,25.618200000000002),(-33.963498999999999,25.618276000000002),(-33.963481000000002,25.618334999999998),(-33.963465999999997,25.618386000000001),(-33.963498999999999,25.618431000000001),(-33.963501000000001,25.618441000000001),(-33.963475000000003,25.618542999999999),(-33.963461000000002,25.618586000000001),(-33.963448,25.618638000000001),(-33.963425999999998,25.618701000000001),(-33.963405999999999,25.618766000000001),(-33.963385000000002,25.618845),(-33.963360999999999,25.618928),(-33.963335999999998,25.619012999999999),(-33.963313999999997,25.619098000000001),(-33.963298000000002,25.619163),(-33.963265999999997,25.619247999999999),(-33.963256000000001,25.619268000000002),(-33.963225000000001,25.619333000000001),(-33.963209999999997,25.619368000000001),(-33.963208000000002,25.61946),(-33.963189999999997,25.619510999999999),(-33.963171000000003,25.619581),(-33.963155,25.619658000000001),(-33.963132999999999,25.619744000000001),(-33.963104999999999,25.619859999999999),(-33.963065999999998,25.619980999999999),(-33.963034999999998,25.620111000000001),(-33.962995999999997,25.620249999999999),(-33.962955999999998,25.620387999999998),(-33.962919999999997,25.620538),(-33.962881000000003,25.620691000000001),(-33.96284,25.620836000000001),(-33.962805000000003,25.620979999999999),(-33.962766000000002,25.621113000000001),(-33.962738000000002,25.621238999999999),(-33.962705999999997,25.621358000000001),(-33.962671,25.621466000000002),(-33.962640999999998,25.621566000000001),(-33.962609999999998,25.621639999999999),(-33.962598,25.621725999999999),(-33.962570999999997,25.621811000000001),(-33.962544999999999,25.621893),(-33.962521000000002,25.621977999999999),(-33.962522999999997,25.622070999999998),(-33.962515000000003,25.622167999999999),(-33.962501000000003,25.62227),(-33.962480999999997,25.622371000000001),(-33.962463,25.622475000000001),(-33.962443,25.622574),(-33.962418,25.622668000000001),(-33.962392999999999,25.622764),(-33.962370999999997,25.622851000000001),(-33.962338000000003,25.622931000000001),(-33.962305999999998,25.623004000000002),(-33.962282999999999,25.623076000000001),(-33.962260999999998,25.623131000000001),(-33.962260999999998,25.623180999999999),(-33.96228,25.623183999999998),(-33.962290000000003,25.623186),(-33.962322999999998,25.623086000000001),(-33.962316000000001,25.623076000000001),(-33.962313999999999,25.623176000000001),(-33.962335000000003,25.623214000000001),(-33.962390999999997,25.623255),(-33.962418999999997,25.623276000000001),(-33.962497999999997,25.623315999999999),(-33.962546000000003,25.623346000000002),(-33.962605000000003,25.623380999999998),(-33.962671,25.623421),(-33.96275,25.623466000000001),(-33.962840999999997,25.62351),(-33.962913999999998,25.623548),(-33.962985000000003,25.623584999999999),(-33.963045999999999,25.623621),(-33.963104999999999,25.623660999999998),(-33.963183999999998,25.623702999999999),(-33.963216000000003,25.623721),(-33.963295000000002,25.623750999999999),(-33.963318999999998,25.623760999999998),(-33.963391000000001,25.623795999999999),(-33.963417999999997,25.623823000000002),(-33.963425999999998,25.623895000000001),(-33.963441000000003,25.623947999999999),(-33.963459999999998,25.624001),(-33.963486000000003,25.624063),(-33.963501000000001,25.624140000000001),(-33.963520000000003,25.624220999999999),(-33.963548000000003,25.624310999999999),(-33.963576000000003,25.624393000000001),(-33.963596000000003,25.624469000000001),(-33.963617999999997,25.624535999999999),(-33.963633999999999,25.624589),(-33.963655000000003,25.624645000000001),(-33.963673,25.624700000000001),(-33.963695000000001,25.624759000000001),(-33.963745000000003,25.624832999999999),(-33.963752999999997,25.624887999999999),(-33.963774999999998,25.624963000000001),(-33.963811,25.625045),(-33.963844999999999,25.625136000000001),(-33.963864999999998,25.625219999999999),(-33.963884999999998,25.625295999999999),(-33.963889999999999,25.625346),(-33.963918,25.625446),(-33.963931000000002,25.625499999999999),(-33.963940999999998,25.625599999999999),(-33.963943,25.625653),(-33.963948000000002,25.625716000000001),(-33.963948000000002,25.625775999999998)]', '2015-10-02 13:06:36.783', 0, 0, true, NULL, 'c3e4b318-bde1-4cfc-96f7-a66d45e183ff', '99b53103-ed51-4e49-b497-c82d230f7e5e', '[]');


--
-- TOC entry 3160 (class 0 OID 24864)
-- Dependencies: 172
-- Data for Name: spatial_ref_sys; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 3353 (class 0 OID 24577)
-- Dependencies: 170
-- Data for Name: temppoints; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO temppoints (id, name, point, "time") VALUES ('3b242f60-6eaa-4eda-9832-dabb878a7aa0', 'ggjgn', '(5454,64546)', '2015-06-04 08:04:30.339');
INSERT INTO temppoints (id, name, point, "time") VALUES ('d6640ffc-ca8f-492d-a1f9-e98bb1d80600', 'ggjn', '(5454,64546)', '2015-06-09 13:34:18.161');
INSERT INTO temppoints (id, name, point, "time") VALUES ('ebe6238e-5490-485b-9869-59eb1d06365d', 'dgbj', '(37.422004999999999,-122.084095)', '2015-06-09 13:37:59.543');
INSERT INTO temppoints (id, name, point, "time") VALUES ('ae9d85ad-02b3-42aa-8bda-8d1b0ad2c0e0', 'jgkj', '(37.422004999999999,-122.084095)', '2015-06-09 13:47:06.411');
INSERT INTO temppoints (id, name, point, "time") VALUES ('c2f42f11-ddee-41d6-bd56-354c299758cd', 'dfefef', '(37.422004999999999,-122.084095)', '2015-06-09 14:02:20.811');
INSERT INTO temppoints (id, name, point, "time") VALUES ('2ad6e4b3-e477-4b2c-896e-ccd160183d48', 'fhgthyth', '(45.85456666666667,-122.084095)', '2015-06-09 14:14:18.706');
INSERT INTO temppoints (id, name, point, "time") VALUES ('3297d45a-b112-411f-b053-481eaf96d081', 'dhdh', '(-34.00806,25.669680000000003)', '2015-06-09 14:21:36.007');
INSERT INTO temppoints (id, name, point, "time") VALUES ('299abf03-8eff-43a0-a212-132096aa2f74', 'embiz', '(-34.00794333333333,25.669789999999995)', '2015-06-09 14:22:39.537');
INSERT INTO temppoints (id, name, point, "time") VALUES ('e02a1678-240d-4e76-b7c8-5c13faad276a', 'gvhbh', '(37.422004999999999,-122.084095)', '2015-06-09 14:59:08.288');


--
-- TOC entry 3354 (class 0 OID 32788)
-- Dependencies: 184
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO "user" (user_id, user_password, user_initials, user_firstname, user_middlenames, user_surname, user_studying, user_email, user_cell, user_is_driver, user_nr_rides_taken, user_nr_points_saved, user_nr_ratings_recieved, user_ratings_sum, user_datetime_created, user_gender, user_pic_id) VALUES ('john', '$2a$06$lxqWUb2ZRA/Q.DmHYDspseK1ospaif.pGD0YIhhGPbyvruWbg7XhG', 'J', 'John', 'df', 'Doe', 'dfvdgdf', 'efrgththy', '154515    ', true, 0, 5, 1, 3, '2015-09-25 17:07:43.103', 'm', '565');


--
-- TOC entry 3363 (class 0 OID 32952)
-- Dependencies: 193
-- Data for Name: userrating; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 3205 (class 2606 OID 32847)
-- Name: campus_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY campus
    ADD CONSTRAINT campus_pk PRIMARY KEY (campus_id);


--
-- TOC entry 3221 (class 2606 OID 33006)
-- Name: car_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY car
    ADD CONSTRAINT car_pk PRIMARY KEY (car_vrn);


--
-- TOC entry 3211 (class 2606 OID 33018)
-- Name: dc_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY drivercar
    ADD CONSTRAINT dc_pk PRIMARY KEY (dc_car_vrn);


--
-- TOC entry 3201 (class 2606 OID 32821)
-- Name: driver_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY driver
    ADD CONSTRAINT driver_pk PRIMARY KEY (driver_user_id);


--
-- TOC entry 3207 (class 2606 OID 32856)
-- Name: ep_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY entry_point
    ADD CONSTRAINT ep_pk PRIMARY KEY (entry_point_id);


--
-- TOC entry 3203 (class 2606 OID 32823)
-- Name: license_constraint; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY driver
    ADD CONSTRAINT license_constraint UNIQUE (driver_license_no);


--
-- TOC entry 3197 (class 2606 OID 24584)
-- Name: points_table_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY temppoints
    ADD CONSTRAINT points_table_pk PRIMARY KEY (id);


--
-- TOC entry 3209 (class 2606 OID 32870)
-- Name: position_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY "position"
    ADD CONSTRAINT position_pk PRIMARY KEY (pos_id);


--
-- TOC entry 3215 (class 2606 OID 32924)
-- Name: ride_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride
    ADD CONSTRAINT ride_pk PRIMARY KEY (ride_id);


--
-- TOC entry 3213 (class 2606 OID 32903)
-- Name: route_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY route
    ADD CONSTRAINT route_pk PRIMARY KEY (route_id);


--
-- TOC entry 3217 (class 2606 OID 32951)
-- Name: rp_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride_passenger
    ADD CONSTRAINT rp_pk PRIMARY KEY (rp_ride_id, rp_user_id);


--
-- TOC entry 3219 (class 2606 OID 32960)
-- Name: ur_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY userrating
    ADD CONSTRAINT ur_pk PRIMARY KEY (ur_id, ur_driver_user_id, ur_passenger_id, ur_ride_id);


--
-- TOC entry 3199 (class 2606 OID 32800)
-- Name: user_pk; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY "user"
    ADD CONSTRAINT user_pk PRIMARY KEY (user_id);


--
-- TOC entry 3224 (class 2606 OID 32857)
-- Name: campus_ep; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY entry_point
    ADD CONSTRAINT campus_ep FOREIGN KEY (entry_point_campus_id) REFERENCES campus(campus_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3229 (class 2606 OID 32909)
-- Name: campus_route; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY route
    ADD CONSTRAINT campus_route FOREIGN KEY (route_campus_id) REFERENCES campus(campus_id) ON DELETE RESTRICT;


--
-- TOC entry 3227 (class 2606 OID 33019)
-- Name: car_dc_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY drivercar
    ADD CONSTRAINT car_dc_fk FOREIGN KEY (dc_car_vrn) REFERENCES car(car_vrn) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3223 (class 2606 OID 33012)
-- Name: car_driver_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY driver
    ADD CONSTRAINT car_driver_fk FOREIGN KEY (driver_current_car_vrn) REFERENCES car(car_vrn) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3226 (class 2606 OID 32886)
-- Name: driver_dc; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY drivercar
    ADD CONSTRAINT driver_dc FOREIGN KEY (dc_driver_user_id) REFERENCES driver(driver_user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3231 (class 2606 OID 32961)
-- Name: driver_ride; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride
    ADD CONSTRAINT driver_ride FOREIGN KEY (ride_driver_user_id) REFERENCES driver(driver_user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3228 (class 2606 OID 32904)
-- Name: driver_route; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY route
    ADD CONSTRAINT driver_route FOREIGN KEY (route_driver_user_id) REFERENCES driver(driver_user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3236 (class 2606 OID 32986)
-- Name: driver_ur; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY userrating
    ADD CONSTRAINT driver_ur FOREIGN KEY (ur_driver_user_id) REFERENCES driver(driver_user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3230 (class 2606 OID 65578)
-- Name: entrypoint_route; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY route
    ADD CONSTRAINT entrypoint_route FOREIGN KEY (route_entrypoint) REFERENCES entry_point(entry_point_id) ON UPDATE CASCADE;


--
-- TOC entry 3233 (class 2606 OID 33024)
-- Name: ride_car_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride
    ADD CONSTRAINT ride_car_fk FOREIGN KEY (ride_car_vrn) REFERENCES car(car_vrn) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3234 (class 2606 OID 32976)
-- Name: ride_rp; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride_passenger
    ADD CONSTRAINT ride_rp FOREIGN KEY (rp_ride_id) REFERENCES ride(ride_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3238 (class 2606 OID 32996)
-- Name: ride_ur; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY userrating
    ADD CONSTRAINT ride_ur FOREIGN KEY (ur_ride_id) REFERENCES ride(ride_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3232 (class 2606 OID 32971)
-- Name: route_ride; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride
    ADD CONSTRAINT route_ride FOREIGN KEY (ride_route_id) REFERENCES route(route_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3222 (class 2606 OID 32824)
-- Name: user_driver_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY driver
    ADD CONSTRAINT user_driver_fk FOREIGN KEY (driver_user_id) REFERENCES "user"(user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3225 (class 2606 OID 32871)
-- Name: user_position; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY "position"
    ADD CONSTRAINT user_position FOREIGN KEY (pos_user_id) REFERENCES "user"(user_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3235 (class 2606 OID 32981)
-- Name: user_rp; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY ride_passenger
    ADD CONSTRAINT user_rp FOREIGN KEY (rp_user_id) REFERENCES "user"(user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3237 (class 2606 OID 32991)
-- Name: user_ur; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY userrating
    ADD CONSTRAINT user_ur FOREIGN KEY (ur_passenger_id) REFERENCES "user"(user_id) ON UPDATE CASCADE ON DELETE RESTRICT;


-- Completed on 2015-10-17 17:50:53

--
-- PostgreSQL database dump complete
--

